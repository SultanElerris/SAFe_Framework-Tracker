{"version":3,"sources":["../../config/router.js"],"names":[],"mappings":";;AAAA,AAAC,CAAA,YAAY;AAAC,aAAY,CAAC;AAC1B,KAAI,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;;AAErC,IAAG,CAAC,MAAM,CAAC,UAAU,cAAc,EAAE,kBAAkB,EAAE;AACxD,gBAAc,CACT,KAAK,CAAC,SAAS,EAAE;AACpB,MAAG,EAAE,GAAG;AACR,cAAW,EAAE,0BAA0B;GACvC,CAAC,CACD,KAAK,CAAC,MAAM,EAAE;AACd,MAAG,EAAE,OAAO;AACZ,cAAW,EAAE,wBAAwB;AACrC,UAAO,EAAC;AACP,eAAW,EAAE,qBAAS,OAAO,EAAE,OAAO,EAAC;AACtC,YAAO,OAAO,CAAC,IAAI,EAAE,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,YAAU;AACrD,aAAO,OAAO,CAAC,eAAe,EAAE,CAAC;MACjC,CAAC,CAAC;KACH;IACD;AACD,aAAU,EAAE,oBAAS,MAAM,EAAE,WAAW,EAAC;AACxC,UAAM,CAAC,IAAI,GAAG,WAAW,CAAC;IAC1B;GACD,CAAC,CACD,KAAK,CAAC,cAAc,EAAE;AACtB,MAAG,EAAE,eAAe;AACpB,cAAW,EAAE,wCAAwC;AACrD,UAAO,EAAC;AACP,eAAW,EAAE,qBAAS,OAAO,EAAE,OAAO,EAAC;AACtC,YAAO,OAAO,CAAC,IAAI,EAAE,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,YAAU;AACrD,aAAO,OAAO,CAAC,eAAe,EAAE,CAAC;MACjC,CAAC,CAAC;KACH;IACD;AACD,aAAU,EAAE,oBAAS,MAAM,EAAE,WAAW,EAAC;AACxC,UAAM,CAAC,IAAI,GAAG,WAAW,CAAC;IAC1B;GACD,CAAC,CACD,KAAK,CAAC,WAAW,EAAE;AACnB,MAAG,EAAE,YAAY;AACjB,cAAW,EAAE,wBAAwB;AACrC,UAAO,EAAC;AACP,eAAW,EAAE,qBAAS,OAAO,EAAE,OAAO,EAAC;AACtC,YAAO,OAAO,CAAC,IAAI,EAAE,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,YAAU;AACrD,aAAO,OAAO,CAAC,eAAe,EAAE,CAAC;MACjC,CAAC,CAAC;KACH;IACD;AACD,aAAU,EAAE,oBAAS,MAAM,EAAE,WAAW,EAAC;AACxC,UAAM,CAAC,IAAI,GAAG,WAAW,CAAC;IAC1B;GACD,CAAC,CAAA;;EAEH,CAAC,CAAC,GAAG,CAAC,UAAS,UAAU,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAC;AACtD,YAAU,CAAC,GAAG,CAAC,mBAAmB,EAAE,UAAS,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAU,EAAE,KAAK,EAAC;AAC/F,OAAI,KAAK,KAAK,eAAe,EAAE;AAC9B,aAAS,CAAC,KAAK,CAAC,oCAAoC,EAAE,OAAO,CAAC,CAAC;AAC5D,UAAM,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;IACtB;GACH,CAAC,CAAC;;AAEH,YAAU,CAAC,GAAG,CAAC,mBAAmB,EAAE,UAAS,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAU,EAAE,KAAK,EAAC;AAC/F,OAAG,OAAO,CAAC,IAAI,KAAK,SAAS,EAAC;AAC7B,QAAI,IAAI,GAAG,OAAO,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAC;AACrC,QAAG,IAAI,EAAE;AAAE,WAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;KAAE;IAC/B;GACD,CAAC,CAAC;EAEH,CAAC,CAAA;CAKF,CAAA,EAAE,CAAE","file":"router.js","sourcesContent":["(function () {'use strict';\n\tvar app = angular.module('piStatus');\n\n\tapp.config(function ($stateProvider, $urlRouterProvider) {\n\t\t$stateProvider\n      .state('default', {\n\t\t\t\turl: '/',\n\t\t\t\ttemplateUrl: '/routes/login/login.html'\n\t\t\t})\n\t\t\t.state('home', {\n\t\t\t\turl: '/home',\n\t\t\t\ttemplateUrl: '/routes/home/home.html',\n\t\t\t\tresolve:{\n\t\t\t\t\tcurrentAuth: function(authSvc, userSvc){\n\t\t\t\t\t\treturn authSvc.auth().$requireSignIn().then(function(){\n\t\t\t\t\t\t\treturn userSvc.getLoggedInUser();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcontroller: function($scope, currentAuth){\n\t\t\t\t\t$scope.user = currentAuth;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('organization', {\n\t\t\t\turl: '/organization',\n\t\t\t\ttemplateUrl: '/routes/organization/organization.html',\n\t\t\t\tresolve:{\n\t\t\t\t\tcurrentAuth: function(authSvc, userSvc){\n\t\t\t\t\t\treturn authSvc.auth().$requireSignIn().then(function(){\n\t\t\t\t\t\t\treturn userSvc.getLoggedInUser();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcontroller: function($scope, currentAuth){\n\t\t\t\t\t$scope.user = currentAuth;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('team-list', {\n\t\t\t\turl: '/team/list',\n\t\t\t\ttemplateUrl: '/routes/team/list.html',\n\t\t\t\tresolve:{\n\t\t\t\t\tcurrentAuth: function(authSvc, userSvc){\n\t\t\t\t\t\treturn authSvc.auth().$requireSignIn().then(function(){\n\t\t\t\t\t\t\treturn userSvc.getLoggedInUser();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcontroller: function($scope, currentAuth){\n\t\t\t\t\t$scope.user = currentAuth;\n\t\t\t\t}\n\t\t\t})\n\t\t\t// ========================================================== //\n\t}).run(function($rootScope, $state, authSvc, toastHelp){\n\t\t$rootScope.$on('$stateChangeError', function(e, toState, toParams, fromState, fromParams, error){\n\t\t\tif (error === \"AUTH_REQUIRED\") {\n\t\t\t\ttoastHelp.error('Login again to use the application', 'Error');\n      \t$state.go('default');\n    \t}\n\t\t});\n\n\t\t$rootScope.$on('$stateChangeStart', function(e, toState, toParams, fromState, fromParams, error){\n\t\t\tif(toState.name === 'default'){\n\t\t\t\tvar user = authSvc.auth().$getAuth();\n\t\t\t\tif(user) { $state.go('home'); }\n\t\t\t}\n\t\t});\n\n\t})\n\n\n\n\n}());\n"]}